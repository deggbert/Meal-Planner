<h3>Pantry Table</h3>

<ng-container *ngIf="!isGroceryTrip; else groceryTrip">
  <button type="button" (click)="toggleEdit()">Toggle Edit</button>
  <button type="button" (click)="update()">Update</button>
  <button type="buton" (click)="startGroceryTrip()">Start Grocery Trip</button>
  
  <table>
    <colgroup>
      <col span="2" style="width: fit-content">
      <col span="5" style="width: 100px">
    </colgroup>

    <thead>
      <tr>
        <th rowspan="2" scope="col" *ngFor="let header of headers">{{ header }}</th>
      </tr>
    </thead>
    
    <tbody>
      <ng-container *ngIf="(!isEdit); else edit">
        <tr *ngFor="let food of pantryItems | sortBy: 'asc': 'groceryStoreOrder'">
          <td *ngFor="let header of headers; index as i">{{ getObjectValues(food)[i] }}</td>
        </tr>
      </ng-container>
    </tbody>
  </table>
</ng-container>

<ng-template #edit>
  <tr *ngFor="let food of pantryItems | sortBy: 'asc': 'groceryStoreOrder'">
    <td *ngFor="let header of headers | slice: 0: 5; index as i">{{ getObjectValues(food)[i] }}</td>
    <td>
      <input type="number" [(ngModel)]="food.groceryStoreOrder" (input)=addToUpdateList(food)>
    </td>
    <td *ngFor="let header of headers | slice: 6; index as i">{{ getObjectValues(food)[i+6] }}</td>
    <button class="bttn" type="button" (click)="increaseQuantity(food)">↑</button>
    <button class="bttn" type="button" (click)="decreaseQuantity(food)">↓</button>
  </tr>
</ng-template>

<ng-template #groceryTrip>
  <div class="container">
    <div class="centerTitle">ITEM {{ groceryItemNumber + 1 }} / {{ pantryItems.length }}</div>
    <div class="line"></div>
    <div class="center">{{ pantryItems[groceryItemNumber].name | uppercase }}</div>
    <div class="center">{{ pantryItems[groceryItemNumber].brand | uppercase }}</div>
    <div class="center">{{ pantryItems[groceryItemNumber].containerSize }}</div>
    <div class="center" [class.zero]="pantryItems[groceryItemNumber].pantryQuantity === 0">QUANTITY: {{ pantryItems[groceryItemNumber].pantryQuantity }}</div>
    <div class="line"></div>
    <button class="col1" (click)="skipGroceryItem()">SKIP</button>
    <button class="col2" (click)="buyGroceryItem(groceryItemNumber)">BUY</button>
  </div>
</ng-template>

 